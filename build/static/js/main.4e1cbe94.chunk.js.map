{"version":3,"sources":["components/Search.js","components/Add.js","components/SingleResult.js","components/Results.js","services/numbers.js","components/Notification.js","components/App.js","index.js"],"names":["Search","search","handleSearchChange","value","onChange","placeholder","Add","addName","newName","newNumber","handleNumberChange","handleNameChange","onSubmit","type","SingleResult","name","number","handleDelete","style","display","alignItems","margin","onClick","Results","itemsToShow","map","person","key","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","includes","borderColor","color","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","numbers","filter","toLowerCase","e","target","preventDefault","personObj","some","window","confirm","obj","find","res","concat","setTimeout","parentNode","firstChild","innerText","catch","err","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4e1cbe94.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = ({ search, handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      <p>search</p>\r\n      <input\r\n        value={search}\r\n        onChange={handleSearchChange}\r\n        placeholder=\"Type a name...\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Add = ({\r\n  addName,\r\n  newName,\r\n  newNumber,\r\n  handleNumberChange,\r\n  handleNameChange,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Add new</h2>\r\n      <form onSubmit={addName}>\r\n        <div>\r\n          name:\r\n          <input\r\n            value={newName}\r\n            onChange={handleNameChange}\r\n            placeholder=\"Add a new name..\"\r\n          />\r\n          <div>\r\n            number:\r\n            <input\r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n              placeholder=\"Add a new number...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Add;\r\n","import React from \"react\";\r\n\r\nconst SingleResult = ({ name, number, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <li style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <p>{name} </p> <p style={{ margin: \"0 .5rem\" }}> {number} </p>\r\n        <button onClick={handleDelete}>delete</button>\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleResult;\r\n","import React from \"react\";\r\nimport SingleResult from \"./SingleResult\";\r\n\r\nconst Results = ({ itemsToShow, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {itemsToShow.map((person) => (\r\n          <SingleResult\r\n            key={person.name}\r\n            name={person.name}\r\n            number={person.number}\r\n            handleDelete={handleDelete}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  return message !== \"\" ? (\r\n    <div\r\n      className=\"notification\"\r\n      style={\r\n        message.includes(\"has been already deleted from the server\")\r\n          ? { borderColor: \"red\", color: \"red\" }\r\n          : {}\r\n      }\r\n    >\r\n      {message}\r\n    </div>\r\n  ) : (\r\n    <div></div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Search from \"./Search\";\nimport Add from \"./Add\";\nimport Results from \"./Results\";\nimport numbers from \"./../services/numbers\";\nimport Notification from \"./Notification\";\nimport \"./../index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    numbers.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  let itemsToShow =\n    search !== \"\"\n      ? persons.filter((person) =>\n          person.name.toLowerCase().includes(search.toLowerCase())\n        )\n      : persons;\n\n  const addName = (e) => {\n    e.preventDefault();\n    const personObj = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const personPresent = persons.some((person) => {\n      return person.name === personObj.name;\n    });\n\n    if (personPresent) {\n      if (\n        window.confirm(\n          `${personObj.name} has already been added to the phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const obj = persons.find((person) => person.name === newName);\n        numbers\n          .update(obj.id, { ...obj, number: newNumber })\n          .then((res) =>\n            setPersons(\n              persons.map((person) => (person.id !== obj.id ? person : res))\n            )\n          );\n        setMessage(`${obj.name} information updated`);\n      }\n    } else {\n      numbers.create(personObj).then((res) => setPersons(persons.concat(res)));\n      setMessage(`${personObj.name} added`);\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 3000);\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearch(e.target.value);\n  };\n\n  const handleDelete = (e) => {\n    if (window.confirm(`Delete ${e.target.parentNode.firstChild.innerText}?`)) {\n      const obj = persons.find(\n        (person) => person.name === e.target.parentNode.firstChild.innerText\n      );\n\n      numbers\n        .deletePerson(obj.id)\n        .then((res) => {\n          setMessage(`Deleted ${obj.name}`);\n        })\n        .catch((err) => {\n          setMessage(`${obj.name} has been already deleted from the server`);\n        });\n\n      setPersons(persons.filter((person) => person.name !== obj.name));\n\n      setTimeout(() => {\n        setMessage(\"\");\n      }, 3000);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} />\n\n      <Search search={search} handleSearchChange={handleSearchChange} />\n\n      <Add\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n      />\n\n      <Results itemsToShow={itemsToShow} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}