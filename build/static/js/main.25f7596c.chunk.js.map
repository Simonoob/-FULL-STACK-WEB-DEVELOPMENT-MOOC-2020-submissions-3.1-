{"version":3,"sources":["components/Search.js","components/Add.js","components/SingleResult.js","components/Results.js","services/numbers.js","components/Notification.js","components/App.js","index.js"],"names":["Search","search","handleSearchChange","value","onChange","placeholder","Add","addName","newName","newNumber","handleNumberChange","handleNameChange","onSubmit","type","SingleResult","name","number","handleDelete","style","display","alignItems","margin","onClick","Results","itemsToShow","map","person","key","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","className","some","word","includes","borderColor","color","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setMessage","useEffect","numbers","filter","toLowerCase","e","target","preventDefault","personObj","window","confirm","obj","find","res","concat","catch","error","setTimeout","parentNode","firstChild","innerText","err","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.25f7596c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Search = ({ search, handleSearchChange }) => {\r\n  return (\r\n    <div>\r\n      <p>search</p>\r\n      <input\r\n        value={search}\r\n        onChange={handleSearchChange}\r\n        placeholder=\"Type a name...\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Add = ({\r\n  addName,\r\n  newName,\r\n  newNumber,\r\n  handleNumberChange,\r\n  handleNameChange,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Add new</h2>\r\n      <form onSubmit={addName}>\r\n        <div>\r\n          name:\r\n          <input\r\n            type=\"text\"\r\n            value={newName}\r\n            onChange={handleNameChange}\r\n            placeholder=\"Add a new name..\"\r\n          />\r\n          <div>\r\n            number:\r\n            <input\r\n              type=\"number\"\r\n              value={newNumber}\r\n              onChange={handleNumberChange}\r\n              placeholder=\"Add a new number...\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Add;\r\n","import React from \"react\";\r\n\r\nconst SingleResult = ({ name, number, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <li style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <p>{name} </p> <p style={{ margin: \"0 .5rem\" }}> {number} </p>\r\n        <button onClick={handleDelete}>delete</button>\r\n      </li>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SingleResult;\r\n","import React from \"react\";\r\nimport SingleResult from \"./SingleResult\";\r\n\r\nconst Results = ({ itemsToShow, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {itemsToShow.map((person) => (\r\n          <SingleResult\r\n            key={person.name}\r\n            name={person.name}\r\n            number={person.number}\r\n            handleDelete={handleDelete}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default { getAll, create, update, deletePerson };\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  return message !== \"\" ? (\r\n    <div\r\n      className=\"notification\"\r\n      style={\r\n        [\"has been already deleted\", \"validation\", \"missing\"].some((word) =>\r\n          message.includes(word)\r\n        )\r\n          ? { borderColor: \"red\", color: \"red\" }\r\n          : {}\r\n      }\r\n    >\r\n      {message}\r\n    </div>\r\n  ) : (\r\n    <div></div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Search from \"./Search\";\nimport Add from \"./Add\";\nimport Results from \"./Results\";\nimport numbers from \"./../services/numbers\";\nimport Notification from \"./Notification\";\nimport \"./../index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    numbers.getAll().then((response) => {\n      setPersons(response);\n    });\n  }, []);\n\n  let itemsToShow =\n    search !== \"\"\n      ? persons.filter((person) =>\n          person.name.toLowerCase().includes(search.toLowerCase())\n        )\n      : persons;\n\n  const addName = (e) => {\n    e.preventDefault();\n    const personObj = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const personPresent = persons.some((person) => {\n      return person.name === personObj.name;\n    });\n\n    if (personPresent) {\n      if (\n        window.confirm(\n          `${personObj.name} has already been added to the phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const obj = persons.find((person) => person.name === newName);\n        numbers.update(obj.id, { ...obj, number: newNumber }).then((res) => {\n          setPersons(\n            persons.map((person) => (person.id !== obj.id ? person : res))\n          );\n          setMessage(`${obj.name} information updated`);\n        });\n      }\n    } else {\n      numbers\n        .create(personObj)\n        .then((res) => {\n          setPersons(persons.concat(res));\n          setMessage(`${personObj.name} added`);\n        })\n        .catch((error) => setMessage(error.response.data.error));\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n    setTimeout(() => {\n      setMessage(\"\");\n    }, 3000);\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleSearchChange = (e) => {\n    setSearch(e.target.value);\n  };\n\n  const handleDelete = (e) => {\n    if (window.confirm(`Delete ${e.target.parentNode.firstChild.innerText}?`)) {\n      const obj = persons.find(\n        (person) => person.name === e.target.parentNode.firstChild.innerText\n      );\n\n      numbers\n        .deletePerson(obj.id)\n        .then((response) => {\n          setMessage(`Deleted ${obj.name}`);\n        })\n        .catch((err) => {\n          setMessage(`${obj.name} has been already deleted from the server`);\n        });\n\n      setPersons(persons.filter((person) => person.name !== obj.name));\n\n      setTimeout(() => {\n        setMessage(\"\");\n      }, 3000);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} />\n\n      <Search search={search} handleSearchChange={handleSearchChange} />\n\n      <Add\n        addName={addName}\n        newName={newName}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n      />\n\n      <Results itemsToShow={itemsToShow} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}